// RUN: stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt -inline | stablehlo-translate --interpret
// RUN: diff <(stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt) <(stablehlo-opt %s)
// RUN: diff <(stablehlo-translate --serialize --target=current %s | stablehlo-translate --deserialize | stablehlo-opt) <(stablehlo-opt %s)

module @jit_testcase {
  func.func public @main() -> tensor<i1> {
    %0 = call @inputs() : () -> tensor<20x30xbf16>
    %1 = call @expected() : () -> tensor<20x30xbf16>
    %2 = stablehlo.constant dense<1.000000e+00> : tensor<bf16>
    %3 = stablehlo.broadcast_in_dim %2, dims = [] : (tensor<bf16>) -> tensor<20x30xbf16>
    %4 = stablehlo.divide %3, %0 : tensor<20x30xbf16>
    %5 = stablehlo.custom_call @check.eq(%4, %1) : (tensor<20x30xbf16>, tensor<20x30xbf16>) -> tensor<i1>
    return %5 : tensor<i1>
  }
  func.func private @inputs() -> tensor<20x30xbf16> {
    %0 = stablehlo.constant dense<"0x88BF74BF0EC089C07D3F81BF8340E4BF5CC06A3FA5C092C08D402BBFB4BF66BF7B3FE03FE1BFE53FA8C02ABF95BE16413540BC3F964053BFA5BF213FF4404CC0E0BF51C084C0AEBE6FBF71BFDABECF3E8ABF453F363D0D40A440C73F2F400CC0DD3F1C3F1C408C3F8EBE7440E04065C08FC00A405440ABBF16400EC07CBF0E3FD6C092400EC083BF26C04C40C1406FC02940A2BF49400FBF98C099C05C3F6FC01D3FDC3F0940853F22408B3D3540E03EEB3F0BC0713E63BF04BFF3BF7FC0973FE1BF45402D40E7C06FC080405B409F3F103F9840E6C0323F2EC09DC004BE39C04BC07C4046C03940B140C0C0144077C0CB402B3F6BC0443EAE3FDDBF324032408DBF35BFCC3E06C0A4BFB53E8CBE8C408DBF95C081BFF23FF0BF0E4006C0E0409E3F043FC6BFD53ED53F0E4095C0974085C0B7C036C020C09CBF3F40013FE0BF96C077C0E63F5F40924015C01EC09B3F0C4181BF233EE73F24C08C40724017C1E9BE214015C0AABFDFBF24C01FC0854066408D3F6A3F63C08DC0A23F6CBFAB3E833F8940B7BF91BFF6BF71C073C06CC0F93E8DC0913F9740013F3A403940D73FE6BF0B40903E513EFDBFAABFDBBF2EBE7A3F15C0AF3F87C012C0B23EC5BF3C40D93F0640C43FF03FA0C09BC0BF40824006C0E63F664002C0BC3FBEC08CBF51C0263FAEBF3AC0A5BFF3BFF83E27BFFFBF75BE4EBFF0BFFFBDA33F773F9CC0CFC042BFD73F54C076C0244090C090BF613E95C051C08EBE55402F409CC0A9BF5DC00240C2C0A33D2E40BAC03CC070BF95BFDF3EC4BFFC4016C0164063404AC0FF3FEB3E45BFA13F0AC1A9BBB7BFB9C0D23F0D4042408BC03A40CABF75C022C082408AC00A409A3ED53FB7BF58C034C04BC0D340AB3C0DC01A403AC0BEBEB140A6C00AC00AC0C7BFBCBFF83F813B25C0444019BFD43F3A3E26BF65C0D83FDD3F323FF9402640BEBFCE3FA2BEFABF2AC08E409F3FADBE6D3F6E3F073FE83F12C0F7BE70BFB8BF54BF8ABF85C0533F383E613F2DBF66BE2640A6BF4CC0AE40A7BFA93E60C052BF83C06B3F2EC0623F07C09FBF2F404B4030C07DBFB43FD3C0B6BF4940123F4340E93F96BF82C0A2C04BC0EDBF03C0583E9940A13F07C02DBF2F40DCC0784082401EC0B94092BE45BFEB3EF5BF87C0973E02BFABBFDEBE21C07DBD72BF19C0EF3FABBF69C013405EC0FEBE9A40D83F53C01F3FCCBFFE3F8EBF7D3F4A406FBE9CC044BF85405AC06D40A83E4C400EBED53FF8BEAF4071407BC05FBF5DC0A53E86C0373DEEBFB5C08A3F3CC0264099BFA6401AC05FBF8E3F76C06DC0BBC0D63F36C08BC00EBEA9BFCA3F44C0853CA3BEBE4032C0AC3F0340134046BFCC3F7B405DC07C3FE7BF81BFA9BF6DC00A3FD33F0BC0BDBFE2408E40404021BF14C0EC3F06C0BFBFBDC0F3BF7E400F4034C0794006BF2C409040853E00C0923E04C0A5401A40713F16C0183F8A409C40C7BF5EBDFCBFF93FE73EA6BD45C0863F7DC08F400AC024BF2D40623F2FC0A7BF44C035407BC080C074C02DC08B3FCAC05B403D3F0940743D27C08C3F313F98C03E40843FAC403F3F1E3F74C030C00E4004C0A1C0C240AFC023402ABF13C07E3E84BF314004400AC001415D4008BF7340C9BFE7BF78C0AFBF87C09D40E4BE15C038400DC0C4BF1DC05CC0DBBE6040903F0F3FF8BFC0C0B73FA7BE9A40A9C01B418F40"> : tensor<20x30xbf16>
    return %0 : tensor<20x30xbf16>
  }
  func.func private @expected() -> tensor<20x30xbf16> {
    %0 = stablehlo.constant dense<"0x71BF86BFE7BE6FBE823F7EBF7A3E10BF95BE8C3F47BE60BE683EC0BF36BF8EBF833F123F12BF0F3F43BEC1BF5CC0DA3DB53E2E3F5A3E9BBF47BFCC3F063EA1BE12BF9DBE78BE3CC089BF88BF16C01E406DBFA63FB441E83E483E253FBB3EEABE143FD23FD23E6A3F67C0863E123E8FBE65BEED3E9B3E40BFDA3EE7BE82BFE73F19BE603EE7BE7ABFC5BEA13E2A3E89BEC23E4ABFA33EE5BF58BE56BE953F89BED13F153FEF3E763FCA3E6C41B53E12400B3FECBE884090BFF8BF07BF81BE593F12BFA63EBD3E0EBE89BE803E963E4E3FE43F583E0EBEB83FBCBE51BEF8C0B1BEA1BE823EA5BEB13E393E2BBEDD3E85BE213EC03F8BBEA7403C3F14BFB83EB83E68BFB5BF2140F5BE48BF35406AC06A3E68BF5CBE7EBF073F09BFE73EF5BE123E4F3FF83F25BF1A401A3FE73E5CBE593E76BE33BEB4BECDBE52BFAC3EFE3F12BF5ABE85BE0E3F933E603EDCBECFBE533FEA3D7EBFC9400E3FC8BE6A3E873ED9BD0DC0CC3EDCBE41BF13BFC8BECEBE763E8E3E683F8C3F90BE68BE4A3F8BBF40407A3F6F3E33BF62BF05BF88BE87BE8BBE044068BE623F593EFE3FB03EB13E183F0EBFEC3E64409D4002BF41BF16BFBCC0833FDCBE3B3F73BEE0BE384026BFAE3E173FF53E273F093F4DBE53BE2C3E7C3EF5BE0E3F8E3EFCBE2E3F2CBE6ABF9DBEC53F3CBFB0BE47BF07BF0440C4BF01BF86C09FBF09BF01C1493F853F52BE1EBEA9BF183F9BBE85BEC83E64BE64BF92405CBE9DBE67C09A3EBB3E52BE42BF94BEFC3E29BE4941BC3E30BEAEBE89BF5CBF134027BF023EDABEDA3E903EA2BE013F0B40A6BF4C3FEDBD42C333BF31BE1C3FE83EA93E6CBEB03E22BF86BECABE7C3E6DBEED3E55401A3F33BF98BEB6BEA1BE1B3E4042E8BED53EB0BE2CC0393E45BEEDBEEDBE25BF2EBF043F7E43C7BEA73ED6BF1B3FB040C5BF8FBE183F143FB83F043EC53E2CBF1F3F4AC003BFC1BE673E4E3F3DC08A3F8A3FF33F0D3FE0BE05C089BF32BF9BBF6DBF76BE9B3FB240923FBDBF8EC0C53E45BFA1BE3C3E44BF424092BE9CBF7ABE8B3FBCBE913FF3BE4EBFBB3EA13EBABE82BF363F1BBE34BFA33EE03FA83E0D3F5ABF7CBE4ABEA1BE0ABFFABE9840563E4C3FF3BEBDBFBB3E15BE843E7C3ECFBE313E60C0A6BF0B4006BF73BE5940FCBF40BF14C0CCBE82C187BFD6BE093F40BF8DBEDF3E94BE01C0553E183F9BBECE3F21BF013F67BF823FA23E89C052BEA7BF763E96BE8A3E4340A13EE7C01A3F04C03B3E883E83BE93BF94BE474075BEB3410ABF35BE6D3FAEBEC53E56BF453ED5BE93BF673F85BE8ABE2FBE193FB4BE6CBEE7C042BF223FA7BE764249C02C3EB8BE3F3FFA3EDF3EA5BF213F833E94BE823F0EBF7EBF42BF8ABEED3F1B3FECBE2DBF113E673EAB3ECCBFDDBE0B3FF5BE2CBF2DBE07BF813EE53EB6BE843EF5BFBF3E643E764000BF6040F8BE473ED53E883FDABED83F6D3E523E25BF94C102BF043F0E4045C1A6BE753F82BE653EEDBEC8BFBD3E913FBBBE44BFA7BEB53E83BE80BE86BEBDBE6C3F22BE963EAD3FEF3E8641C4BE6A3FB93F58BEAC3E783F3F3EAC3FCF3F86BEBABEE73EF8BE4CBE293E3BBEC93EC1BFDFBE814078BFB93EF83EEDBEFE3D943EF1BF873E23BF0EBF84BE3BBF73BE513E10C0DCBEB23EE8BE27BFD1BE95BE16C0923E643FE53F04BF2BBE333F44C0553E42BED33D653E"> : tensor<20x30xbf16>
    return %0 : tensor<20x30xbf16>
  }
}
