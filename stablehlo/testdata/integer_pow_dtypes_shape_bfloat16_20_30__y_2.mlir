// RUN: stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt -inline | stablehlo-translate --interpret
// RUN: diff <(stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt) <(stablehlo-opt %s)
// RUN: diff <(stablehlo-translate --serialize --target=current %s | stablehlo-translate --deserialize | stablehlo-opt) <(stablehlo-opt %s)

module @jit_testcase {
  func.func public @main() -> tensor<i1> {
    %0 = call @inputs() : () -> tensor<20x30xbf16>
    %1 = call @expected() : () -> tensor<20x30xbf16>
    %2 = stablehlo.multiply %0, %0 : tensor<20x30xbf16>
    %3 = stablehlo.custom_call @check.eq(%2, %1) : (tensor<20x30xbf16>, tensor<20x30xbf16>) -> tensor<i1>
    return %3 : tensor<i1>
  }
  func.func private @inputs() -> tensor<20x30xbf16> {
    %0 = stablehlo.constant dense<"0x55C01740ADBE3D3F893F40C094402F403340A13F1540D9BFE83FB1BE1540A3BD68C0983D6B400D40D33FB6C062C040C02BC062C08CBFC83FF5BF2CC05B4027C0E6C023C0D0BF06C1AC40C440ADC0093E3C40B33F0E3F99BFB0BFC23F9BBE42BF084097C069401340F13F47C05640623EFC3F60C0AABFB340923F7C3FB2BEB1BF41BF8F3EE3BFD9BE0BBF533E6EBF83C08FC023408BC0DB3F43C08940814078401EBF0AC0183F97BE70409F408D40493FD13E6A4054C0D2C096BF1FC0AC3E9EBF48C0104004BF04C07AC025C04D40A84018BED0BF2B403340A840BEC0D1BE86C00F402EBE234096C01140083F5DBF5EC02EBF91C013C009BE0CC016BF8BC052BF72C074C069C0B04098BF11C15B40BE3E35408F3F634004C034C021BF26BF63BF8E3F68C0D3C04AC089C0E93F18BD2E40FD3D13C0C6C006BF25404CC0644016BF2EBFD2BFA8C069BF533F4340F73E82BED9BD95BFF13D453FFF3F4740B3BFC1C0CDC083BF723C79409340CE3FA43F843F94C0A63E8DBE3CBFD04093BD3B40FE3E0340353F323F6940B2BE0D40253F493F823FE33F8BBEFFBFAABE5AC0953EF33F2E400540CAC0DEBE33407C3FBAC08A3FB0BF0AC1F6BF21C0493EA740B8BF8A3F67C050C0DEBF2FC055C0BCC008BEDB40BBBFE23F6A40BA3E9D40F3BFD63F9D4037BE15BF9E4019C02B40903F433FBABF17C111C0F43E10C0104093405FC01AC03D3DE7C0D4BFB73FD03E803F00C0B33FEFBF5340D74057C06EC0CABF8340154079C054C068C0E2BD61C0CDC03BC01FC0D43E3EBF86C015C0B03EB23F5540EDBF0AC0F1BD0440903E4140D33F6FC0483F5CC0A73ED83F0F3FD9BCCEBF2240C33EC53EC63EE83FCF40DC3E873E473E2FC053C0ABBFFDBF5B4090C00540A73FBF3F0AC0D3BE10BF41BFA9BFA63FFBBF9C40E5BF13406E4024BDD9BF1840C4BD5C409CBF8E3F563F6640673F4940C6BF17402CBF11C04E3F32C059BF90406840A93F4AC0BCBC88BECBBE78BF383E41BF543F45402240014058BF0C3E7BBF0F40C1BF2D3FBBBF9FBF63C0913FF9BF0DC0634016C029BF99BF4F3E59C0853F9BC063402A3EC9BFF1C074C04A3F01C0E8BE9CC0BFBE82BF75BFEBBEDBBF47C072BF8CBFB53F0240A640CA3F3DC08DC0053EEF3E2F40CDBF9B40ED3E324004C0C6BF0A40BE4077C0E7408F3D1E3FD2BF6740193F1E4017C0114002BF244095BFD13E8D3FD3BFA83F0EBF31C0EC3F94BF44C0E3BE7F3FDE3F863DDBC0C0BF1BC072405BBFC83F82C04BC026BF524030C001400CC0F440E4BFAF3E913FD13F8E4070401B3FB6C031409EC02EC02A3FAF40873C57BF97409EBE2F40444002C09D3F98C0AE3E68C0FF3E873E3DC041C076BF404040C098BFB140DC3EBD4014C0AD3E93401E4027C0DF3F1CC03EBFD2BE8F3F7DBE963D15411640803FC53F0E40FE3F8ABEF53FD73F6A3E6FC0EBC08A4052C0A5BFEFBFE240B1C085BF4C3EF73F0DC039C0924067401AC0A1BE9CBF99BF49405CBFAA3CD640D7BD2CC065BF2F4011BFF63F1DC0DE4087C08EC036401B40853F2B40913F1940AFBE70C08FC03DC0453DAB3EF6C014BFBDC0B8BEDDBE5F405B40813E3BBEA5C03E4048C07340863F273F914034408A3F88407840EEBF363F8A3ECFC0F83F74BF35C0C2BF80BF83BFB1BF84C0E5BF5340D3BF00401DC0913F9AC0F2BF0DBD"> : tensor<20x30xbf16>
    return %0 : tensor<20x30xbf16>
  }
  func.func private @expected() -> tensor<20x30xbf16> {
    %0 = stablehlo.constant dense<"0x3141B240EA3D0C3F933F1041AB41EF40FA40CB3FAD4038405240F53DAD40D03B5241B43B58419B402E40014248411041E4404841993F1C406A40E7403B41DA404F42D04029408C42E7411642EA41933C0A41FA3F9E3EB73FF23F1340BC3D133F9040B2415441A94063401B413341483D78404441E23FFA41A73F783FF83DF53F123FA03D4940383E973E2E3D5D3F8641A041D04097413B401541934182417041C33E9540B43EB23D6141C6419B411E3F2B3E564130412C42B03FC640E73DC33F1C41A240883E88407441D5402441DC41B43C2940E440FA40DC410D422B3E8C41A040ED3CD040B041A440903E3F3F4141ED3EA441A940933C9940B03E97412C3F654169415441F241B43FA4423B410D3E0041A03F49418840FD40CB3ED73E493F9E3F52412E421F4193415440B43AED407A3CA94019428C3ED54023414B41B03EED3E2C40DC41543F2E3F15416E3E843D383CAD3F633C183F7E401B41FA3F12422442863F65397241A9412640D23F883FAB41D73D9B3D0A3F2942A93B09417C3E8640003FF83E5441F83D9B40D53E1E3F843F4940973D7E40E23D3A41AD3D6740ED408A401F42413EFA40783F0742953FF23F95426C40CB401E3DDA410440953F504129414140EF4031410A42903C3B42094048405641073EC14167403340C141033DAD3EC341B740E440A23F153F0740B242A440693EA240A240A9414241B9400C3B504230400340293E803F8040FA3F5F402E41354235415D411F408641AD40724130415241483C464124420941C640303E0D3F8C41AD40F23DF83F31415B409540633C8840A23D12412E405F411C3F3D41DA3D3640A03E383A2640CD40153E183E193E524027423D3E8E3D1B3DEF402E41E43F7A403B41A2418A40DA3F0F4095402E3EA23E123FDF3FD73F7640BE414D40A9405D41D23A3840B440163C3D41BE3F9E3F333F4F41503F1E411940B240E73EA440263FF840383FA2415241DF3F1F410A3A903D213E703F043D123F303F1841CD408240363F993C763FA0401240EA3E0940C63F4941A43F72409B404941B040DF3EB73F273D38418A3FBC414941E23C1E40634269411F3F8240523EBE410F3E843F6A3F583E3B401B41653F993F00408440D7411F400C419B418A3C5F3EEF402440BC415B3EF8408840194095400D426E415042A03BC33E2C405041B73EC340B240A440843ED240AD3F2B3E9B3F2E40DC3F9E3EF5405A40AB3F1641493E7E3F41408C3B3B421040BC4065413B3F1C4084412141D73E2C41F2408240994069424B40EF3DA43F2B409E416141BC3E0142F540C341ED40E23EEF418E39353FB241C33DEF4016418440C13FB441ED3D52417E3E8E3D0C4112416C3F10411041B43FF5413D3E0C42AB40EA3DA941C340DA404240BE400D3F2C3EA03F7A3DB03BAD42B040803F18409E407C40953D6A403540563D5F41584295412C41D53F5F404842F5418A3F233D6E409B400641A7415041B940CB3DBE3FB73F1E413D3FE2393342353CE7404D3FEF40A43E6C40C14041428E419E410141BC408A3FE440A43FB740EF3D6141A0410C41183BE43D6C42AB3E0C42043E3F3E42413B41823D093DD5410D411C4167418C3FDA3EA441FD40953F904170415D40013F953D27427040693F00411340803F863FF53F88414D402E412E408040C140A43FB94165409B3A"> : tensor<20x30xbf16>
    return %0 : tensor<20x30xbf16>
  }
}
