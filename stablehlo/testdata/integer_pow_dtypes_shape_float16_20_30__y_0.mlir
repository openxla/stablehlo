// RUN: stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt -inline | stablehlo-translate --interpret
// RUN: diff <(stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt) <(stablehlo-opt %s)
// RUN: diff <(stablehlo-translate --serialize --target=current %s | stablehlo-translate --deserialize | stablehlo-opt) <(stablehlo-opt %s)

module @jit_testcase {
  func.func public @main() -> tensor<i1> {
    %0 = call @inputs() : () -> tensor<20x30xf16>
    %1 = call @expected() : () -> tensor<20x30xf16>
    %2 = stablehlo.constant dense<1.000000e+00> : tensor<f16>
    %3 = stablehlo.broadcast_in_dim %2, dims = [] : (tensor<f16>) -> tensor<20x30xf16>
    %4 = stablehlo.custom_call @check.eq(%3, %1) : (tensor<20x30xf16>, tensor<20x30xf16>) -> tensor<i1>
    return %4 : tensor<i1>
  }
  func.func private @inputs() -> tensor<20x30xf16> {
    %0 = stablehlo.constant dense<"0x46487CBF1BBD503291457C364235C4AFDD47F0419CC3D4BF6640C3B344445AB56B353B22A1C13E41D93821C52EC1EDC30FC57CBE1FBE8FBE27C36745F8C0AD408CC24B41BDC0AEB4693A64C55EB08B3C63C42C39A54218C38540B434EAC2BEBB7E3B80A249C090320EBC984397412FC39FC26443DA4209411EBC293C7641B13C1CB3B93DB2428AB0333D66BDD6B594C1D1BDD7353140683E4346723D24422234223FEF3CABC5984062C4C13CA2C182C798BBD5C4ADC47D46CB3CA742994400417D4114C121C18D335C3AFBC0253AEBBD862FA8C3F03849BC35C2CDC5993EB340683A3245C9445640CAC3D0C353C535425D3CCCC396C1E442BCBE8BBF66464544613DD8C2BBC4C2B820452E429A429A412040EE3E57C1604336C046C2AB3E793DFD3C3DBE913CAC3CCD3509AF73C2003DE6C08E40BE402A4154B860445EBA6FB4B9B328C6EDB51338D13B8FB92CC319B850C54B36F042054050B92740943F693A224314C400BBE8C10A3A193FD03F31C566A844BDD3C2744320C266C54BBC94440F3E892A25444D41D7420BC38045A33F68BCC4A8414076A269BCF13F07C0593C35BE3E46B4B36821833E8447A6BA893956C0D9B92636643C29C2F7C5B43C3D3D92396C4336447A40FF4568BDB03E47BD85C01DC42845783E06BC1BC4094202C279BD0DC114410DBBA9B5F8BC2140CCC3D9405C40BEC4C34212C07F37A644883773C463C702BBD6B9B535E43717B760BBABAF78BD90C3DDC1BAC399C4DCBEDA3F173D5EC3C0C097C5C9385F434BC2F0C587B0044224444743BE4161C4263D0EC0304544BDDFC2F737643C59421BB55840B93ED334D8BE88BF5EC2423D80428D42503A70C29F3C99BEAC3DC3C465B37A44F63837C274C4A23D5B38C0BF9D3D4EC0032E004769C051C04642DBC1B43EDD45EEC13F37803D713A483F22B95443B8C4B33EA130924125BC934003B9A2C0CBBF8EB2A3BFA83EDDC2863C6C3FD24341BF8C40843CD2C3AE451BC05C404E4748BB994078BDF03DDDC2AB476A417D3FE435C93B34C3E0BE504062C12244B03861362FC4943D49C3AF404145CDBD7DC5C3BAAD4092BC23C4DF3F0A392C3F1ABAEAC3623822BD16BDD3BFAA4217BD8944F342E2412ABC9AC693C0B7BFAFC1003F5A3C3A40F7C6EDB65FB8BCB89DC2502D4C3B18428FC246B2D143FEBEDEBEB44245343741C1B70E2A1440B9C230C4E0BFA24265BDC2C5D343533DFEB9B7C2DE413243E5BEAAB9E53EC0BE08439442563EC0C200C1F7B6E5C4B5C4B7395DC5FE436344EB4137418DBCE338F6B6433B71BE39BAE7C459BDE7BC45B4D6C528C60A4080BCA93C1F418FB1F3318B3B7138AEC0BF4130AF12C35C410AC0CDC502BE9CBF5BC389BDBA414EBD2C3F5EC3EAC311AEFD42FCC11A4681C312BF4840E4C765C2BD40B93D94BE0CC06E434FBEE039403A4144C43D04BBBCC3E8C3263FAABDA5B79640C13694C3C9C027467A377939614155C1AC427740D0C3E0B9E83C4440F7B98B36FE3574B233AC372B0BC1123EE440F3B81BBB0FB8B53B0A3E3F381F37E73E444344BCC744AABFC9C1B54368BD94BD95B370C46E3D85C0F3C1F641A741F63E093A29B555C8D7C1D6B84DB8854286C868B6A63E4CC286B9D4BB5C405E3DD7C533C70E4083C7B13701C434C1EAC62F4226C42CC2D5419B3C434405453646D5C24ABD"> : tensor<20x30xf16>
    return %0 : tensor<20x30xf16>
  }
  func.func private @expected() -> tensor<20x30xf16> {
    %0 = stablehlo.constant dense<1.000000e+00> : tensor<20x30xf16>
    return %0 : tensor<20x30xf16>
  }
}
