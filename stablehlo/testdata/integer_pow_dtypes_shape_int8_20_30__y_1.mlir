// RUN: stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt -inline | stablehlo-translate --interpret
// RUN: diff <(stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt) <(stablehlo-opt %s)
// RUN: diff <(stablehlo-translate --serialize --target=current %s | stablehlo-translate --deserialize | stablehlo-opt) <(stablehlo-opt %s)

module @jit_testcase {
  func.func public @main() -> tensor<i1> {
    %0 = call @inputs() : () -> tensor<20x30xi8>
    %1 = call @expected() : () -> tensor<20x30xi8>
    %2 = stablehlo.custom_call @check.eq(%0, %1) : (tensor<20x30xi8>, tensor<20x30xi8>) -> tensor<i1>
    return %2 : tensor<i1>
  }
  func.func private @inputs() -> tensor<20x30xi8> {
    %0 = stablehlo.constant dense<"0xFF0001FCFC000101FEFD05080001040004FDFCFE00FE0308FFFD00020001FCFB03000100FE02FCFCFD000000FE0101FC0203FD0000FEFF00FDFC00000201FF030006FF000100FF0701FC00FFFFFE06000300FE01010000FA00FCFE050701FF0006FFFEFF00FD03FE000006020000010001FDFF02FD0000FE000002FEFFFF03FF000501000000FFFE00FDFE01FEFE00000002FFFD040002FEFCFEFEFD01FD00FD0001FDFE00030300FC0201FE0000FD030301FF000102FD000303FF02FDFFFEFB01FA0301FD000100FF00FD02020001FDFF0002F9FDFF00FEFE02040203FDFF00FF05040201010301FEFE010207030101FDFEFF00030002030006FEFBFD00FE0000000302FF000000000301FD000000FF01FF000205FE0402FD0002FF0102FE04FB00020100020001FE01000100FF04FCFE0002010400000001FFFCFC010000FF0301FC0000FE0003000203FD0301FE0004030200FE0400FA0100000003FCFD03000002000001FF000101FBFEFFFF0002FE010003FE05FE03FFFC01FAFF0003FB06FE03FEFE0201FE0001010000FD00FD00FCFEFB01FC00FBFE05FF0202FD03FE020200FE000102FC0002FB010002F9000201FD00030502030000FFFFFF000701020000FD00FF000200040000010102FB000001F903FDFD05030001FFFF0200000300FF0606FF01FCFF03FDFCFE010205030400FEFF00FA00FD0001010302020A0300FE000104010108FF020000FD0102FD0101FD030001FFFF0002FE03FE0101FFFC0203020202000101FFFC030004FEFCFE050005020600000002FE0200000000FD02020102000000FFFFFF0002FA03FC01030102FFFC04"> : tensor<20x30xi8>
    return %0 : tensor<20x30xi8>
  }
  func.func private @expected() -> tensor<20x30xi8> {
    %0 = stablehlo.constant dense<"0xFF0001FCFC000101FEFD05080001040004FDFCFE00FE0308FFFD00020001FCFB03000100FE02FCFCFD000000FE0101FC0203FD0000FEFF00FDFC00000201FF030006FF000100FF0701FC00FFFFFE06000300FE01010000FA00FCFE050701FF0006FFFEFF00FD03FE000006020000010001FDFF02FD0000FE000002FEFFFF03FF000501000000FFFE00FDFE01FEFE00000002FFFD040002FEFCFEFEFD01FD00FD0001FDFE00030300FC0201FE0000FD030301FF000102FD000303FF02FDFFFEFB01FA0301FD000100FF00FD02020001FDFF0002F9FDFF00FEFE02040203FDFF00FF05040201010301FEFE010207030101FDFEFF00030002030006FEFBFD00FE0000000302FF000000000301FD000000FF01FF000205FE0402FD0002FF0102FE04FB00020100020001FE01000100FF04FCFE0002010400000001FFFCFC010000FF0301FC0000FE0003000203FD0301FE0004030200FE0400FA0100000003FCFD03000002000001FF000101FBFEFFFF0002FE010003FE05FE03FFFC01FAFF0003FB06FE03FEFE0201FE0001010000FD00FD00FCFEFB01FC00FBFE05FF0202FD03FE020200FE000102FC0002FB010002F9000201FD00030502030000FFFFFF000701020000FD00FF000200040000010102FB000001F903FDFD05030001FFFF0200000300FF0606FF01FCFF03FDFCFE010205030400FEFF00FA00FD0001010302020A0300FE000104010108FF020000FD0102FD0101FD030001FFFF0002FE03FE0101FFFC0203020202000101FFFC030004FEFCFE050005020600000002FE0200000000FD02020102000000FFFFFF0002FA03FC01030102FFFC04"> : tensor<20x30xi8>
    return %0 : tensor<20x30xi8>
  }
}
