// RUN: stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt -inline | stablehlo-translate --interpret
// RUN: diff <(stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt) <(stablehlo-opt %s)
// RUN: diff <(stablehlo-translate --serialize --target=current %s | stablehlo-translate --deserialize | stablehlo-opt) <(stablehlo-opt %s)

module @jit_testcase {
  func.func public @main() -> tensor<i1> {
    %0 = call @inputs() : () -> tensor<20x30xui8>
    %1 = call @expected() : () -> tensor<20x30xui8>
    %2 = stablehlo.custom_call @check.eq(%0, %1) : (tensor<20x30xui8>, tensor<20x30xui8>) -> tensor<i1>
    return %2 : tensor<i1>
  }
  func.func private @inputs() -> tensor<20x30xui8> {
    %0 = stablehlo.constant dense<"0x030203030103020301020703010000010100010500000201000202020001010100040004020406020200000002010403000402000002020002030205020202000504000301030103030300030100000101010002050402010302000202010002000102010202010002050200010302060200040103010303020104020502020002020200020005010600010200010201010301060601020303000300030006000000010003000502010103040102000000000601020102000100020001010004040302000102000104000002010204010402030301000400000300030007030106010000020004020401000003010300000402010005010403070102040305030301000002000101010005050100030304040106000003020003010203010101060203010000040100040001000302010402040001000101000002010207000002020100060701000200000302000201010400000500020102020303030101000100020402010300050202030204060300010201030000040401060000020300000202010102000300000202050101010100020402000204050001000302010000000402000200030101000004040100020100010301040000000002030206060101030106020202060202030600010009040100000203020204020002050303020004050302050005000201020501000503010402090401010002040400000400000201030304000000020002010300010100010201010200020205000100040204030002050103020000020301010101000104010301000200000002010303020003000102030200040000000403000101010304010203"> : tensor<20x30xui8>
    return %0 : tensor<20x30xui8>
  }
  func.func private @expected() -> tensor<20x30xui8> {
    %0 = stablehlo.constant dense<"0x030203030103020301020703010000010100010500000201000202020001010100040004020406020200000002010403000402000002020002030205020202000504000301030103030300030100000101010002050402010302000202010002000102010202010002050200010302060200040103010303020104020502020002020200020005010600010200010201010301060601020303000300030006000000010003000502010103040102000000000601020102000100020001010004040302000102000104000002010204010402030301000400000300030007030106010000020004020401000003010300000402010005010403070102040305030301000002000101010005050100030304040106000003020003010203010101060203010000040100040001000302010402040001000101000002010207000002020100060701000200000302000201010400000500020102020303030101000100020402010300050202030204060300010201030000040401060000020300000202010102000300000202050101010100020402000204050001000302010000000402000200030101000004040100020100010301040000000002030206060101030106020202060202030600010009040100000203020204020002050303020004050302050005000201020501000503010402090401010002040400000400000201030304000000020002010300010100010201010200020205000100040204030002050103020000020301010101000104010301000200000002010303020003000102030200040000000403000101010304010203"> : tensor<20x30xui8>
    return %0 : tensor<20x30xui8>
  }
}
