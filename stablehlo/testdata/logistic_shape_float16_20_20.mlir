// RUN: stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt -inline | stablehlo-translate --interpret
// RUN: diff <(stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt) <(stablehlo-opt %s)
// RUN: diff <(stablehlo-translate --serialize --target=current %s | stablehlo-translate --deserialize | stablehlo-opt) <(stablehlo-opt %s)

module @jit_testcase {
  func.func public @main() -> tensor<i1> {
    %0 = call @inputs() : () -> tensor<20x20xf16>
    %1 = call @expected() : () -> tensor<20x20xf16>
    %2 = stablehlo.negate %0 : tensor<20x20xf16>
    %3 = stablehlo.exponential %2 : tensor<20x20xf16>
    %4 = stablehlo.constant dense<1.000000e+00> : tensor<f16>
    %5 = stablehlo.broadcast_in_dim %4, dims = [] : (tensor<f16>) -> tensor<20x20xf16>
    %6 = stablehlo.add %5, %3 : tensor<20x20xf16>
    %7 = stablehlo.constant dense<1.000000e+00> : tensor<f16>
    %8 = stablehlo.broadcast_in_dim %7, dims = [] : (tensor<f16>) -> tensor<20x20xf16>
    %9 = stablehlo.divide %8, %6 : tensor<20x20xf16>
    %10 = stablehlo.custom_call @check.eq(%9, %1) : (tensor<20x20xf16>, tensor<20x20xf16>) -> tensor<i1>
    return %10 : tensor<i1>
  }
  func.func private @inputs() -> tensor<20x20xf16> {
    %0 = stablehlo.constant dense<"0xEDBDB63B28C321452F40CFC0552DAD40BCBD413E4040F9406E42B9C0E13E82BF91B4D53C58AE7540F5C1F13F583C5FC2B3436EC4973DC9AA843D3C443B385E45BFC59237E1420BBAFCBC43BE2BC05841B4C107379FC0F93A3544C7C0703C0CC2772605403142533B33C3043C2FC0E12496C38CBADBBF6FBC95356F3F5D346DBD59487E2D64BD9D38163F934244BBA838013E04BCF3C2C5C64146283A4D498A44B8417444B73B64AE24C0C83B58C47535273B35C526C5FDBB393D5E3DA9BE3D3B644697B5F2BB27BF74BE33BD2840EB40E63DE4B91941DFC1BFC0B8C0B9BDA0BF12C6CBC0C7437CBCFE3A4738183FDD3F8725CD424BBF09BC8F390BC4F3B857BC3D43A53FB2C1E2C26E32DD41304333C478C2E94153420F438DB4CF41534290BC44465AB41D460143244165277641B522E1C310C2A3BDF6B89F342AC32CBD193C02460AC53940D1266CBF5BBFF53CA2B32CC56DB77E4422C158BCB042C4BC63BCB2B5C3BF42328630E8C22FB129B1814691C36042D941D0461EC2F545B6C5F6402A3F7C3A053FEC45A3C41E40D3C22E342E41A6C4123EC836AEC27C3A54B9A841E5BC953C8042ACC2B4C033C3AD412FC5F4BCD2BEFFC15E257C3F2E3E79B0E941ABB49A3433BB53B19738BEB443B9953950BFB147DD4554443C3CC136B7439ABC6E4022B35D41E93F3CC771BEF12431415AC731BC7934E8C66DB3EDBC223FD74281C1D3C522C6AFB278C065413F43EFBD3EB91CBC174078BCE2B39042A2C19AC2A7BBF83C193BFBC231C6794385C2B93B3B448FBD73BE2CB9CF47BAC1B9C114B6D42FDD3E05445DC05B42FD43F1C0B8C2B3BF58BF0C401CC10DBF01B585355DC381C4D13E233CA1B880C58644974267C038418CBB07BB253B67C0ACC2923E33C0A1B1BDB0C6BBE246063B05B667B211C1004595429EB613C57B3165C8D8BF5BC4F8380B43A82AC33EB73D143B083E35C0D4BF474318B77BC17FC0713632C15EBC3B42284288C15CBE6CBEB43D8EC071C29AC4334643409CA89D43A04114BDE6403034AC3D21B97F445330EF3D9641C2B154358A355B449A406ABA9D46293841BCE94308C58DB4DE41823D0B44BB44C7C0734324C4DF3C80AC434532B522300641"> : tensor<20x20xf16>
    return %0 : tensor<20x20xf16>
  }
  func.func private @expected() -> tensor<20x20xf16> {
    %0 = stablehlo.constant dense<"0xED31CB39F426F43B203B4D2D2B384B3B29329E3A263B633BB13B842DC93A3F30DE36293A9937393B322A083BFB391529D53B08226A3AC937643AE23B0839F63B861AEE38C03B1D3526338831152F7B3BFD2ADD38C72DA439E23B612D043AF0290D380E3BA83BB639CF26DB39082F0A38A425E634E02FF033B138EB3A8B388E32003C2C389A321F39D73AB73B993422398B3A4B34B127B214FC3B7839003CEA3B903BE83BCB3999372C2FCE399022AD38AD39951DEA1D4F344B3A573A1731B239FC3B9E36533496305131DB321C3B5E3B833A2E356C3B752A752D862D2E322430B918572DD73BDD33A5390B39D73A053B0B38BE3B7330473456396A249A350B34CB3BF73A042BF0276638983BC93B9223DA289B3BAD3BC63BDF36963BAD3BC033FC3BEB36FC3BC43B6F3B0F38823B0738E324E529483298359338EE26E432E339FA3B971E233B0E3854306430353A0D37C71D2E36EA3B912C0A34BA3B763302349736053064384838DB275B375B37FC3BB125AF3B983BFE3BBE29FA3BC11A613BDB3A8A39D23AFA3BEA20183B16288538713BDB20903AD63861288A396F358D3B4633113AB33B6628912DCF268F3BB51D3133EC30152A0B38EE3A993A71379B3BD7369238A03457371E39D436763557396E30003CFA3BE43BF139D538D53BB133363B1C377D3B073BE81154310A38733B401127348E38191413373B33D93ABE3BAD2B081A6F182B37302E7F3BCB3BEB3178353834163BE4330537B73B392B8C287134353AAA3994272F18D13BBC28CB39E23B633252317F35003CEA2AED2A80363F38C83ADD3B7E2EAD3BDB3BFD2C4D2813306730113B9D2CB030C236AF3849269A21C53AE739C0352B1CEA3BB73B602E743B7C34B234AD39602E6628B43AFC2E4D3768376434FE3BA63983363337B52CF23BB73B5F365D1E5738FE08E42F7E223439C63B1B38C13A753AA9398C3AF62EEC2FCB3B4136C22B1D2ECC386F2C0534AA3BA63B942B6C315A31733AF42DEA281721FC3B263BDB37D33B8B3B05335E3B8538713A8535EA3B4538863A893B4837A938B038E63B453BF534FE3B04391B34D93BA51EDF36993B643ADD3BEE3B612DCF3B03242C3AB737F63BB7364238663B"> : tensor<20x20xf16>
    return %0 : tensor<20x20xf16>
  }
}
