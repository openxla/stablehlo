// RUN: stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt -inline | stablehlo-translate --interpret
// RUN: diff <(stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt) <(stablehlo-opt %s)
// RUN: diff <(stablehlo-translate --serialize --target=current %s | stablehlo-translate --deserialize | stablehlo-opt) <(stablehlo-opt %s)

module @jit_testcase {
  func.func public @main() -> tensor<i1> {
    %0 = call @inputs() : () -> tensor<20x20xi8>
    %1 = call @expected() : () -> tensor<20x20xi8>
    %2 = stablehlo.negate %0 : tensor<20x20xi8>
    %3 = stablehlo.custom_call @check.eq(%2, %1) : (tensor<20x20xi8>, tensor<20x20xi8>) -> tensor<i1>
    return %3 : tensor<i1>
  }
  func.func private @inputs() -> tensor<20x20xi8> {
    %0 = stablehlo.constant dense<"0x00000200010004040400FE01FCFCFD00FD0204FEFF04000003000001FE040004FCFCFE000300FDFBFEFE000204FF000000FF01FF020101FDFD00FF01FE00F902FD0002000102FFFF00020001FDFFF902FDFD04FEFF000000FEFF02000500FF0004FF000200000002030302FE010102FFFD030301FE00000401FF000000FD0001FEFE060003010000FBFF00040004FD02FF030004050000FF06FFFCFF03FD0101FB02FF0501FDFCFF0300060204000302FD00030301FE0000FE0004FF000000FEFF03FF010202030202FFFDFDFC0204FE0004000000FCFD0103FD0103FCFD030202FC01FDFE050004FF000201040102FEFF0100FF0200FF00000000FC0300FF03FC0000FE020404FBFD00FFFFFE010308F7000203FB0500030203FFFEFCFF01FCFFFE02000100FDFC03FF00FAFE0400FE00FC04FEF8FE03FFFB000202FB0600010000FCFF0200010001FDFF0102FF01020003FE0401FF000000FE030003FFFDFDFEFE000000FFFF000200FE00FC0100FE02FF06FE0000FF020507FD00030100030000000302FE00FDFC0104FA0005FEFE"> : tensor<20x20xi8>
    return %0 : tensor<20x20xi8>
  }
  func.func private @expected() -> tensor<20x20xi8> {
    %0 = stablehlo.constant dense<"0x0000FE00FF00FCFCFC0002FF0404030003FEFC0201FC0000FD0000FF02FC00FC04040200FD000305020200FEFC0100000001FF01FEFFFF03030001FF020007FE0300FE00FFFE010100FE00FF030107FE0303FC02010000000201FE00FB000100FC0100FE000000FEFDFDFE02FFFFFE0103FDFDFF020000FCFF010000000300FF0202FA00FDFF0000050100FC00FC03FE01FD00FCFB000001FA010401FD03FFFF05FE01FBFF030401FD00FAFEFC00FDFE0300FDFDFF0200000200FC010000000201FD01FFFEFEFDFEFE01030304FEFC0200FC0000000403FFFD03FFFD0403FDFEFE04FF0302FB00FC0100FEFFFCFFFE0201FF0001FE00010000000004FD0001FD04000002FEFCFC050300010102FFFDF80900FEFD05FB00FDFEFD01020401FF040102FE00FF000304FD01000602FC00020004FC020802FD010500FEFE05FA00FF00000401FE00FF00FF0301FFFE01FFFE00FD02FCFF0100000002FD00FD0103030202000000010100FE00020004FF0002FE01FA02000001FEFBF90300FDFF00FD000000FDFE02000304FFFC0600FB0202"> : tensor<20x20xi8>
    return %0 : tensor<20x20xi8>
  }
}
