// RUN: stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt -inline | stablehlo-translate --interpret
// RUN: diff <(stablehlo-translate --deserialize %s.0_9_0.bc | stablehlo-opt) <(stablehlo-opt %s)
// RUN: diff <(stablehlo-translate --serialize --target=current %s | stablehlo-translate --deserialize | stablehlo-opt) <(stablehlo-opt %s)

module @jit_testcase {
  func.func public @main() -> tensor<i1> {
    %0:2 = call @inputs() : () -> (tensor<20x20xi32>, tensor<20x20xi32>)
    %1 = call @expected() : () -> tensor<20x20xi32>
    %2 = stablehlo.shift_left %0#0, %0#1 : tensor<20x20xi32>
    %3 = stablehlo.custom_call @check.eq(%2, %1) : (tensor<20x20xi32>, tensor<20x20xi32>) -> tensor<i1>
    return %3 : tensor<i1>
  }
  func.func private @inputs() -> (tensor<20x20xi32>, tensor<20x20xi32>) {
    %0 = stablehlo.constant dense<"0x0000000000000000070000000300000002000000FEFFFFFFFFFFFFFF0000000002000000FFFFFFFFFEFFFFFF010000000100000000000000000000000000000002000000FBFFFFFFFCFFFFFFFFFFFFFF0600000004000000010000000100000005000000FFFFFFFF01000000FFFFFFFF01000000FBFFFFFF0500000001000000F9FFFFFF000000000000000002000000000000000000000002000000FFFFFFFFFCFFFFFF000000000200000001000000FAFFFFFF0000000002000000FEFFFFFFFFFFFFFF0300000002000000FBFFFFFF0500000000000000FFFFFFFFFEFFFFFFFCFFFFFF040000000000000003000000FDFFFFFF0000000000000000FCFFFFFF000000000000000005000000FEFFFFFFFEFFFFFF0100000002000000FEFFFFFF000000000300000007000000FBFFFFFF010000000000000002000000FEFFFFFF0000000000000000FBFFFFFF0000000002000000FDFFFFFFFEFFFFFFFBFFFFFF000000000400000000000000FEFFFFFF02000000FFFFFFFFFAFFFFFF02000000000000000100000000000000FDFFFFFF0000000000000000FCFFFFFFFDFFFFFF000000000000000005000000FFFFFFFF0300000000000000FDFFFFFF02000000FEFFFFFF0500000000000000FFFFFFFFFFFFFFFF0000000003000000FEFFFFFFFCFFFFFFFDFFFFFF00000000FFFFFFFF00000000FFFFFFFF010000000200000001000000FFFFFFFF02000000000000000100000000000000010000000700000001000000070000000300000000000000FFFFFFFF0100000000000000FEFFFFFF0000000001000000FEFFFFFFFBFFFFFF02000000FFFFFFFF02000000FDFFFFFFFCFFFFFFFFFFFFFF050000000200000001000000FBFFFFFF00000000FBFFFFFF0100000003000000F9FFFFFFFEFFFFFFFFFFFFFFFEFFFFFFFFFFFFFF00000000FFFFFFFF00000000F9FFFFFF00000000FEFFFFFF020000000100000000000000FEFFFFFF010000000100000000000000010000000200000004000000F9FFFFFFFFFFFFFF04000000000000000500000002000000F7FFFFFF0200000000000000FEFFFFFFFCFFFFFFFBFFFFFF0000000000000000010000000000000001000000FFFFFFFFFFFFFFFF010000000000000004000000FEFFFFFFFFFFFFFF0000000001000000030000000000000002000000FFFFFFFFFFFFFFFF00000000FFFFFFFFFDFFFFFF01000000F7FFFFFF02000000000000000000000000000000040000000000000000000000FFFFFFFF0100000004000000FEFFFFFFFFFFFFFF01000000FDFFFFFFFBFFFFFFFCFFFFFFFCFFFFFF00000000FDFFFFFFFBFFFFFFFFFFFFFFFDFFFFFF00000000FDFFFFFFFDFFFFFF0200000001000000FFFFFFFF0000000000000000F9FFFFFF00000000FEFFFFFF01000000030000000400000003000000FDFFFFFFFCFFFFFF00000000FFFFFFFF00000000FCFFFFFFFEFFFFFF030000000000000000000000010000000200000001000000020000000100000003000000000000000400000000000000010000000300000001000000000000000100000002000000FEFFFFFFFFFFFFFF00000000040000000000000000000000FFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFF0000000004000000070000000000000001000000FBFFFFFF00000000FDFFFFFF0000000001000000FFFFFFFF00000000010000000000000000000000FEFFFFFFFCFFFFFF01000000050000000400000001000000FEFFFFFFF9FFFFFFFFFFFFFF000000000000000002000000FBFFFFFF03000000FBFFFFFF0100000005000000FFFFFFFFFFFFFFFF0000000002000000FEFFFFFF04000000FCFFFFFF010000000400000003000000FFFFFFFFFEFFFFFFFEFFFFFF02000000FBFFFFFFFFFFFFFF01000000FDFFFFFFFDFFFFFF00000000FDFFFFFFF6FFFFFF02000000FFFFFFFFFBFFFFFF000000000300000003000000FEFFFFFF0000000001000000000000000100000005000000FCFFFFFFFDFFFFFF01000000000000000300000000000000020000000100000009000000030000000500000000000000FDFFFFFFFEFFFFFF0100000000000000FCFFFFFFFDFFFFFFFDFFFFFF0000000000000000FEFFFFFF02000000FDFFFFFF00000000FFFFFFFF01000000FEFFFFFF00000000FEFFFFFF00000000FDFFFFFF0000000001000000FFFFFFFF00000000FFFFFFFF01000000FFFFFFFF02000000020000000500000002000000"> : tensor<20x20xi32>
    %1 = stablehlo.constant dense<"0xFFFFFFFFFDFFFFFFFCFFFFFF000000000500000000000000FEFFFFFF00000000FFFFFFFFFFFFFFFF020000000100000000000000FFFFFFFFFEFFFFFF00000000FBFFFFFF0200000000000000FDFFFFFF08000000F9FFFFFFFFFFFFFFFEFFFFFF010000000000000000000000060000000000000000000000FFFFFFFF00000000030000000200000003000000FFFFFFFFFFFFFFFF040000000000000001000000FFFFFFFFFEFFFFFF00000000FDFFFFFFFCFFFFFFFEFFFFFFFEFFFFFFFDFFFFFF020000000200000000000000FFFFFFFFFEFFFFFF02000000FDFFFFFF000000000200000000000000F9FFFFFF00000000030000000200000007000000FCFFFFFF0000000000000000FFFFFFFFFDFFFFFFFCFFFFFF0400000006000000FEFFFFFF01000000FDFFFFFFFFFFFFFFFFFFFFFF0600000000000000FDFFFFFFFDFFFFFFFFFFFFFF00000000FCFFFFFFFCFFFFFF0400000000000000F8FFFFFF0000000004000000FBFFFFFF01000000030000000200000000000000020000000000000000000000FDFFFFFFFEFFFFFF010000000300000002000000050000000300000002000000FEFFFFFF02000000F9FFFFFF0100000001000000000000000100000001000000FFFFFFFF03000000000000000000000004000000010000000500000003000000FFFFFFFFFCFFFFFF000000000200000000000000FFFFFFFFF9FFFFFFFFFFFFFFFFFFFFFF0000000004000000000000000100000000000000040000000300000000000000FEFFFFFF0500000001000000FFFFFFFF00000000FDFFFFFF00000000FEFFFFFF0400000003000000FDFFFFFFFDFFFFFF02000000000000000000000000000000FBFFFFFFFFFFFFFFFEFFFFFF00000000000000000100000004000000FEFFFFFFFFFFFFFF02000000FEFFFFFFFDFFFFFFFEFFFFFF03000000FDFFFFFFFEFFFFFFFFFFFFFFFCFFFFFF0500000002000000000000000000000006000000FEFFFFFF00000000FEFFFFFF030000000000000002000000FFFFFFFF010000000300000002000000FFFFFFFF02000000FFFFFFFFFDFFFFFFFDFFFFFF00000000FFFFFFFFFFFFFFFFFFFFFFFF0500000000000000030000000600000003000000000000000000000003000000FEFFFFFF000000000500000006000000010000000200000002000000FFFFFFFFFEFFFFFF0000000006000000FBFFFFFF00000000FDFFFFFF0300000001000000FDFFFFFF0400000001000000FCFFFFFF050000000000000000000000FEFFFFFF0000000000000000FEFFFFFF0000000001000000FDFFFFFF03000000FDFFFFFFFDFFFFFF0300000000000000000000000100000000000000FEFFFFFF00000000FAFFFFFF040000000000000002000000000000000400000001000000FCFFFFFFFFFFFFFFFDFFFFFFFEFFFFFF02000000FBFFFFFF04000000000000000000000002000000FBFFFFFF02000000FDFFFFFF0100000005000000FEFFFFFF0300000000000000FFFFFFFFFEFFFFFFFCFFFFFFFFFFFFFF020000000200000000000000FFFFFFFF0100000003000000070000000200000003000000FDFFFFFF00000000FEFFFFFF06000000FCFFFFFF060000000400000001000000FFFFFFFFFFFFFFFFFBFFFFFF00000000000000000200000000000000FBFFFFFF01000000020000000500000000000000000000000100000000000000F8FFFFFFFEFFFFFFFFFFFFFFFBFFFFFF020000000000000002000000FFFFFFFF01000000000000000100000001000000FCFFFFFF000000000200000000000000FEFFFFFFFEFFFFFFFDFFFFFF02000000FEFFFFFF0000000000000000FEFFFFFF00000000FFFFFFFFFCFFFFFF000000000400000000000000FDFFFFFF02000000FFFFFFFF01000000FEFFFFFF04000000FDFFFFFF010000000000000000000000FBFFFFFF0000000003000000FCFFFFFFFEFFFFFFFEFFFFFFFFFFFFFF0000000005000000FCFFFFFF0000000000000000000000000000000000000000FEFFFFFF03000000FFFFFFFF00000000FFFFFFFF03000000FCFFFFFF01000000FEFFFFFF00000000040000000000000002000000FFFFFFFFFEFFFFFFFFFFFFFF0500000003000000FDFFFFFF010000000200000003000000FDFFFFFF00000000040000000000000001000000FFFFFFFFFEFFFFFF0000000000000000FEFFFFFF0200000000000000080000000400000000000000FDFFFFFFFCFFFFFFFCFFFFFF"> : tensor<20x20xi32>
    return %0, %1 : tensor<20x20xi32>, tensor<20x20xi32>
  }
  func.func private @expected() -> tensor<20x20xi32> {
    %0 = stablehlo.constant dense<"0x0000000000000000000000000300000040000000FEFFFFFF00000000000000000000000000000000F8FFFFFF020000000100000000000000000000000000000000000000ECFFFFFFFCFFFFFF00000000000600000000000000000000000000000A000000FFFFFFFF01000000C0FFFFFF01000000FBFFFFFF0000000001000000C8FFFFFF000000000000000000000000000000000000000002000000FEFFFFFF0000000000000000020000000000000000000000000000000000000000000000FCFFFFFF0C0000000200000000000000000000000000000000000000FEFFFFFFF0FFFFFF040000000000000003000000E8FFFFFF000000000000000000000000000000000000000000000000000000000000000010000000800000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000020000000FDFFFFFF00000000FBFFFFFF000000000000000000000000F0FFFFFF08000000FFFFFFFFE8FFFFFF02000000000000000000000000000000FAFFFFFF000000000000000080FFFFFFE8FFFFFF000000000000000014000000000000000600000000000000FDFFFFFF04000000FCFFFFFF0000000000000000FFFFFFFFFFFFFFFF0000000006000000C0FFFFFFE0FFFFFF0000000000000000FFFFFFFF00000000FFFFFFFF0000000000000000000000000000000002000000000000000100000000000000010000007000000008000000070000000000000000000000FEFFFFFF0000000000000000000000000000000000000000E0FFFFFFD8FFFFFF000000000000000008000000FDFFFFFFFCFFFFFFFFFFFFFF000000000000000000000000FBFFFFFF00000000F6FFFFFF100000000000000000000000F8FFFFFF0000000000000000000000000000000000000000000000000000000000000000C0FFFFFF08000000010000000000000080FFFFFF00000000010000000000000008000000020000001000000000000000FEFFFFFF20000000000000000000000008000000000000000000000000000000FEFFFFFF00000000000000000000000000000000010000000000000040000000F8FFFFFFFFFFFFFF010000000000000000000000FEFFFFFFE0FFFFFF00000000020000000C000000000000000000000000000000FFFFFFFF0000000000000000FDFFFFFF00000000B8FFFFFF04000000000000000000000000000000000000000000000000000000FFFFFFFF0000000004000000FEFFFFFF0000000001000000FAFFFFFF00000000E0FFFFFF0000000000000000E8FFFFFFFBFFFFFFFFFFFFFFFAFFFFFF0000000000000000FDFFFFFF0000000010000000FFFFFFFF000000000000000090FFFFFF00000000000000000000000000000000000000000C00000000000000C0FFFFFF00000000FFFFFFFF0000000000000000F8FFFFFF000000000000000000000000000000001000000001000000000000000000000000000000000000001000000000000000010000000000000002000000000000008000000008000000F0FFFFFF0000000000000000000000000000000000000000C0FFFFFFE0FFFFFFFEFFFFFF000000000000000000000000070000000000000004000000FBFFFFFF00000000FAFFFFFF0000000020000000FFFFFFFF0000000002000000000000000000000000000000000000000000000014000000040000000400000000000000F2FFFFFFFFFFFFFF000000000000000000000000FBFFFFFF0C000000FBFFFFFF000000000000000000000000FCFFFFFF0000000002000000FEFFFFFF00000000FCFFFFFF000000000000000003000000F0FFFFFFFEFFFFFF000000000800000000000000FEFFFFFF00000000D0FFFFFF0000000000000000FDFFFFFFF6FFFFFF00000000FFFFFFFFD8FFFFFF000000000000000000000000000000000000000020000000000000000100000005000000FCFFFFFFFDFFFFFF01000000000000001800000000000000020000000000000048000000000000000A00000000000000FDFFFFFFE0FFFFFF010000000000000000000000000000000000000000000000000000000000000004000000F4FFFFFF000000000000000001000000E0FFFFFF00000000FCFFFFFF000000000000000000000000010000000000000000000000FFFFFFFF00010000F0FFFFFF02000000000000000000000000000000"> : tensor<20x20xi32>
    return %0 : tensor<20x20xi32>
  }
}
